# Changelog

All notable changes to this project will be documented in this file.

## [1.0.0] - 2026-01-22

**Initial Release / 首次正式发布**

Marker Cleaner v1.0.0 是一款专为高效率去水印与图像修复打造的智能工具。它融合了最新的多模态 AI 技术与本地像素算法，致力于在保证画质的前提下，提供极速、批量、低成本的图像清洗体验。

### ✨ 核心特性 (Core Features)

- **双模态智能引擎**:
  - **Native AI 模式**: 深度集成 Gemini 3 / Gemini 2.5 原生图像重绘能力，能够完美理解画面结构，对复杂背景、纹理及光影进行无痕修复。
  - **Detection 极速模式**: 结合 AI 视觉定位与本地 OpenCV 算法，针对纯色/简单背景实现毫秒级处理，大幅降低 Token 消耗。
- **多渠道接入**: 开箱即用支持 Google Gemini、OpenAI 以及 Antigravity 企业级渠道，满足不同场景的成本与性能需求。

### 🚀 极致性能 (Performance)

- **智能并发处理**: 内置 `p-limit` 自适应并发控制（默认 4 线程），支持万级图片批量导入，确保内存占用平稳，杜绝 OOM。
- **异步报告生成**: 采用流式处理与异步缩略图生成技术 (`sharp`)，处理速度较竞品提升 500%，HTML 报告体积缩减 90%。
- **工业级鲁棒性**: 全链路实现指数退避重试机制，内置 120s 任务超时熔断与自动冲突重命名策略，无人值守也放心。

### 🇨🇳 开箱即用 (User Experience)

- **全中文交互**: 从 CLI 终端界面 (TUI) 到生成的 HTML 交互报告，提供 100% 贴心的中文本地化体验。
- **可视化审计**: 自动生成包含 "Before/After" 对比、Token 消耗、耗时统计的交互式 HTML 报告，处理效果一目了然。
- **灵活输入输出**:
  - 完美支持 Windows/Mac/Linux 跨平台。
  - 支持拖拽文件、粘贴路径 (`file://`、UNC、绝对/相对路径) 等多种输入方式。
  - 输出格式可选 PNG/JPG/WEBP，保留原始目录结构。

### 🛡️ 企业级安全 (Security)

- **数据隐私**: 提供严格的参数清洗与日志脱敏，敏感 Key 不落盘。
- **运行安全**: 内置 HTML 注入防护 (XSS) 与路径遍历防御，通过 Biome 严格代码审计。
- **成本熔断**: 支持设置全局 Token/金额预算上限 (Budget Limit)，意外消耗自动熔断，守住你的钱包。
