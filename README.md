<div align="center">

# ğŸ§¹ Marker Cleaner | æ™ºèƒ½å›¾åƒæ ‡è®°æ¸…é™¤å·¥å…·

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg?style=flat-square)
![License](https://img.shields.io/badge/license-MIT-green.svg?style=flat-square)
![Stack](https://img.shields.io/badge/tech-Bun%20%7C%20React%20Ink%20%7C%20TypeScript-black.svg?style=flat-square)

Marker Cleaner æ˜¯ä¸€æ¬¾åŸºäº **AI é©±åŠ¨** çš„ä¸“ä¸šå›¾åƒä¿®å¤å·¥å…·ï¼Œæ—¨åœ¨è‡ªåŠ¨è¯†åˆ«å¹¶ç§»é™¤å›¾ç‰‡ä¸­çš„äººå·¥æ ‡è®°ï¼ˆå¦‚çŸ©å½¢æ¡†ã€ç®­å¤´ã€æ¶‚é¸¦ç­‰ï¼‰ï¼ŒåŒæ—¶å®Œç¾è¿˜åŸèƒŒæ™¯ç»†èŠ‚ã€‚

å·¥å…·ç°å·²å…¨é¢æ”¯æŒ **Google Gemini 2.5 å¤šæ¨¡æ€** ä¸ **Antigravity Pro** åè®®ï¼Œä¸ºæ‚¨æä¾›å·¥ä¸šçº§çš„å›¾åƒå¤„ç†èƒ½åŠ›ã€‚

</div>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¤– å¼ºå¤§çš„ AI å¼•æ“

- **Google Gemini 2.5 Flash Image**: å®˜æ–¹åŸç”Ÿæ”¯æŒå¤šæ¨¡æ€ç”Ÿæˆï¼Œæ€§ä»·æ¯”æé«˜ã€‚
- **Antigravity Gemini 3 Pro Image**: ä¸“æœ‰åè®®æ”¯æŒé¡¶çº§ç”»è´¨ï¼Œé€šè¿‡ Sandbox ç¯å¢ƒå®ç°ç¨³å®šè°ƒç”¨ã€‚

### ğŸ› ï¸ åŒé‡å·¥ä½œæ¨¡å¼

| æ¨¡å¼               | æè¿°                      | é€‚ç”¨åœºæ™¯           | ä¼˜åŠ¿                   |
| :----------------- | :------------------------ | :----------------- | :--------------------- |
| **Native æ¨¡å¼**    | AI åŸç”Ÿé‡ç»˜ (Nano Banana) | å¤æ‚èƒŒæ™¯ã€é‡åº¦é®æŒ¡ | å®Œç¾ä¿®å¤ç»†èŠ‚ï¼Œæ— ç—•è¿˜åŸ |
| **Detection æ¨¡å¼** | åæ ‡æ£€æµ‹ + æœ¬åœ°ä¿®å¤       | çº¯è‰²èƒŒæ™¯ã€ç®€å•æ ‡è®° | é€Ÿåº¦æå¿«ï¼Œæˆæœ¬æä½     |

### âš¡ï¸ æè‡´æ€§èƒ½ä¸ä½“éªŒ

- **CLI äº¤äº’ç•Œé¢**: åŸºäº React Ink æ„å»ºçš„ç°ä»£åŒ–ç»ˆç«¯ UIã€‚
- **æ‰¹é‡å¤„ç†**: é€’å½’éå†ç›®å½•ï¼Œè‡ªåŠ¨ä¿æŒåŸæ–‡ä»¶ç»“æ„ã€‚
- **æ–­ç‚¹ç»­ä¼ **: å¤„ç†ä¸­æ–­åï¼Œä¸‹æ¬¡è¿è¡Œå¯æ— ç¼æ¢å¤è¿›åº¦ã€‚
- **æˆæœ¬é€æ˜**: å®æ—¶è®¡ç®— Token æ¶ˆè€—ä¸é¢„ä¼°è´¹ç”¨ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

æœ¬é¡¹ç›®åŸºåº§åŸºäºå…¨é“¾è·¯ **Bun** æ¶æ„ï¼Œè¯·ç¡®ä¿å·²å®‰è£… Bunã€‚

```bash
# å®‰è£…ä¾èµ–
bun install
```

### 2. å¯åŠ¨åº”ç”¨

```bash
bun start
```

é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œæ‚¨åªéœ€æŒ‰éœ€ç¼–è¾‘å³å¯ã€‚

- **macOS**: `~/.marker-cleaner/marker-cleaner.json`
- **Linux**: `~/.config/marker-cleaner/marker-cleaner.json`
- **Windows**: `%APPDATA%/marker-cleaner/marker-cleaner.json`

---

## âš™ï¸ é…ç½®æŒ‡å—

ä¸ºäº†è·å¾—æœ€ä½³ä½“éªŒï¼Œè¯·æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„ Providerã€‚

### æ–¹æ¡ˆ Aï¼šè¿½æ±‚æé€Ÿæ€§ä»·æ¯”

ä½¿ç”¨ Google å®˜æ–¹æ¸ é“ï¼Œé…åˆæœ€æ–°çš„ Gemini 2.5 Flash æ¨¡å‹ã€‚

> [!IMPORTANT]
> **æ³¨æ„**ï¼šGoogle å®˜æ–¹ API è¦æ±‚è´¦å·ç­‰çº§è¾¾åˆ° **Tier 1** æ‰èƒ½è°ƒç”¨ Image ç”Ÿæˆæ¨¡å‹ã€‚å¦‚æœä¸æ»¡è¶³æ­¤æ¡ä»¶ï¼Œè¯·ä½¿ç”¨ **Antigravity** æ¸ é“ã€‚

```json
{
  "provider": "google",
  "providerSettings": {
    "google": {
      "apiKey": "YOUR_GOOGLE_API_KEY",
      "modelName": "gemini-2.5-flash-image" // è‡ªåŠ¨å¼€å¯å¤šæ¨¡æ€ç”Ÿæˆ
    }
  }
}
```

### æ–¹æ¡ˆ Bï¼šè¿½æ±‚æè‡´ç”»è´¨ä¸èƒ½åŠ› (Antigravity - æ¨è)

ä½¿ç”¨å†…éƒ¨ Antigravity æ¸ é“ï¼Œæ”¯æŒ Gemini 3 å…¨ç³»åˆ—é¡¶çº§æ¨¡å‹ã€‚

```json
{
  "provider": "antigravity",
  "providerSettings": {
    "antigravity": {
      "apiKey": "YOUR_ANTIGRAVITY_TOKEN",
      "modelName": "gemini-3-pro-image"
    }
  }
}
```

**Antigravity å¯ç”¨æ¨¡å‹æ¸…å•**:
| æ¨¡å‹ ID | ç‰¹æ€§ | é€‚ç”¨åœºæ™¯ |
| :--- | :--- | :--- |
| **`gemini-3-pro-image`** | ğŸ¨ åŸç”Ÿå›¾åƒç”Ÿæˆ | **Native æ¨¡å¼** (Inpainting) é¦–é€‰ |
| **`gemini-3-flash`** | âš¡ æœ€å¿«å“åº”é€Ÿåº¦ | **Detection æ¨¡å¼** (Detection) é¦–é€‰ |
| **`gemini-3-pro-high`** | ğŸ§  æœ€é«˜æ¨ç†æ™ºåŠ› | å¤æ‚è¯­ä¹‰ç†è§£ |
| **`gemini-3-pro-low`** | âš–ï¸ æ€§èƒ½å¹³è¡¡ç‰ˆ | é€šç”¨ä»»åŠ¡ |
| `claude-sonnet-4-5` | ğŸ¤– Claude æ——èˆ° | å¤‡é€‰æ¨ç†å¼•æ“ |
| `gpt-oss-120b-medium` | ğŸŒ å¼€æºå¤§æ¨¡å‹ | å¤‡é€‰æ–¹æ¡ˆ |

### å¸¸ç”¨å…¨å±€é…ç½®

| é…ç½®é¡¹         | é»˜è®¤å€¼     | è¯´æ˜                 |
| :------------- | :--------- | :------------------- |
| `inputDir`     | `./input`  | å¾…å¤„ç†å›¾ç‰‡ç›®å½•       |
| `outputDir`    | `./output` | ç»“æœè¾“å‡ºç›®å½•         |
| `recursive`    | `true`     | æ˜¯å¦é€’å½’å­ç›®å½•       |
| `previewCount` | `3`        | é¢„è§ˆæ¨¡å¼ä¸‹çš„å›¾ç‰‡æ•°é‡ |
| `debugLog`     | `false`    | æ˜¯å¦å¼€å¯è°ƒè¯•æ—¥å¿—     |

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

- **Runtime**: [Bun](https://bun.sh) - æé€Ÿ JavaScript è¿è¡Œæ—¶
- **UI Framework**: [React Ink](https://github.com/vadimdemedes/ink) - ç»ˆç«¯å³ç»„ä»¶
- **Image Processing**: [Sharp](https://sharp.pixelplumbing.com) - é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†
- **Configuration**: [Zod](https://zod.dev) - ä¸¥æ ¼çš„ç±»å‹æ ¡éªŒ
- **AI Integration**:
  - `@google/generative-ai` (Official SDK)
  - Custom REST Client (Antigravity Protocol)

## ğŸ“ è‡ªå®šä¹‰ Prompt

æ‚¨å¯ä»¥å®Œå…¨æ§åˆ¶ AI çš„è¡Œä¸ºæŒ‡ä»¤ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° `prompts` å­—æ®µï¼š

```json
{
  "prompts": {
    "edit": "è¯·ç§»é™¤å›¾ä¸­æ‰€æœ‰çº¢è‰²çŸ©å½¢æ ‡è®°æ¡†ï¼Œå¹¶ä¿®å¤è¢«é®æŒ¡çš„æ–‡å­—...",
    "detect": "è¯·è¯†åˆ«å›¾ä¸­æ‰€æœ‰çº¢è‰²æ ‡è®°æ¡†çš„åæ ‡ï¼Œæ ¼å¼ä¸º..."
  }
}
```

## ğŸ“œ License

MIT License Â© 2026 Marker Cleaner Team
